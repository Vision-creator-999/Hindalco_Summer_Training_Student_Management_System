<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font for a clean look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }

        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px 40px;
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            text-align: center;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-6">

    <!-- Main Container -->
    <div class="container mx-auto max-w-5xl bg-white rounded-3xl shadow-xl overflow-hidden my-12 p-8 md:p-12">
        <!-- Header -->
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 text-center mb-6">Contact Us</h1>
        
        <!-- Introductory Paragraph -->
        <p class="text-center text-lg md:text-xl text-gray-600 mb-12 max-w-4xl mx-auto">
            If you have any queries about our products or services, please fill out the form below. We'll get back to you as soon as possible.
        </p>

        <!-- Contact Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            <!-- Contact Form Section -->
            <div class="lg:order-2">
                <form id="contactForm" class="space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Your Query</label>
                        <textarea id="message" name="message" rows="6" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700 transition-colors">
                        Send Message
                    </button>
                </form>
            </div>
            
            <!-- Contact Information Section -->
            <div class="lg:order-1 flex flex-col justify-center">
                <div class="space-y-8">
                    <!-- Address -->
                    <div class="flex items-start">
                        <!-- Location Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600 flex-shrink-0 mr-4" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
                        </svg>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Corporate Office</h3>
                            <p class="text-gray-600">
                                Ahura Centre, B-wing, 1st Floor<br>
                                Mahakali Caves Road, Andheri (E)<br>
                                Mumbai 400 093, India
                            </p>
                        </div>
                    </div>
                    <!-- Phone -->
                    <div class="flex items-start">
                        <!-- Phone Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600 flex-shrink-0 mr-4" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8.5 15.5c-2.49 0-4.5-2.01-4.5-4.5s2.01-4.5 4.5-4.5c.87 0 1.68.27 2.35.73l.65.46.65-.46c.67-.46 1.48-.73 2.35-.73 2.49 0 4.5 2.01 4.5 4.5s-2.01 4.5-4.5 4.5c-1.28 0-2.42-.55-3.23-1.42L12 14.5l-.77.87c-.81.87-1.95 1.42-3.23 1.42z"/>
                        </svg>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Phone</h3>
                            <p class="text-gray-600">+91-22-66917000</p>
                        </div>
                    </div>
                    <!-- Fax -->
                    <div class="flex items-start">
                        <!-- Fax Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600 flex-shrink-0 mr-4" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 12h-1c-1.1 0-2 .9-2 2v4H8v-4c0-1.1-.9-2-2-2H5c-1.66 0-3 1.34-3 3v2c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-2c0-1.66-1.34-3-3-3zM18 6h-2c-1.1 0-2 .9-2 2v2h4V8c0-1.1-.9-2-2-2zM6 6H4c-1.1 0-2 .9-2 2v2h4V8c0-1.1-.9-2-2-2zM12 2c-.55 0-1 .45-1 1v1h2V3c0-.55-.45-1-1-1zm6 3c-1.1 0-2 .9-2 2v2h4V7c0-1.1-.9-2-2-2z"/>
                        </svg>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">Fax</h3>
                            <p class="text-gray-600">+91-22-66917001</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Message box for user notifications -->
    <div id="message-box" class="message-box hidden">
        <p id="message-text" class="text-gray-700 font-medium"></p>
        <button onclick="document.getElementById('message-box').classList.add('hidden')" class="mt-4 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">
            Close
        </button>
    </div>

    <script type="module">
        // Import the functions needed from Firebase SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Firebase configuration from your project
        const firebaseConfig = {
            apiKey: "AIzaSyC-n-HYZuNKwuONnhpU88KB9uozlgYXggc",
            authDomain: "hindalco-summer-training.firebaseapp.com",
            projectId: "hindalco-summer-training",
            storageBucket: "hindalco-summer-training.firebasestorage.app",
            messagingSenderId: "509882186806",
            appId: "1:509882186806:web:24f833ec6fe0a2ee2e6c97",
            measurementId: "G-HNX2DF4S2M"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // Function to show a custom message box
        function showMessage(message) {
            const messageBox = document.getElementById('message-box');
            const messageText = document.getElementById('message-text');
            messageText.innerText = message;
            messageBox.classList.remove('hidden');
        }

        // Handle form submission
        const form = document.getElementById('contactForm');
        form.addEventListener('submit', async (e) => {
            e.preventDefault(); // Prevent the default form submission behavior

            // Sign in anonymously to get an auth token for Firestore rules
            try {
                await signInAnonymously(auth);
            } catch (error) {
                console.error("Anonymous sign-in failed:", error);
                showMessage("Failed to connect to the database. Please try again.");
                return;
            }

            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                message: document.getElementById('message').value,
                timestamp: new Date() // Add a timestamp for tracking
            };

            // Save the form data to Firestore
            try {
                const docRef = await addDoc(collection(db, "contact_submissions"), formData);
                console.log("Document written with ID: ", docRef.id);
                showMessage("Thank you! Your message has been sent.");
                form.reset(); // Optionally, clear the form after successful submission
            } catch (error) {
                console.error("Error adding document: ", error);
                showMessage("Error submitting your message. Please try again.");
            }
        });
    </script>
</body>
</html>
